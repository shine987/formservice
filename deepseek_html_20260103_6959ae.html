<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤ ·ÄÅ·ÄØ·Ä∂·ÄÄ·Äª·Äî·Ä∫·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
    <style>
        /* ·Äõ·Äæ·Ä≠·Äï·Äº·ÄÆ·Ä∏·Äû·Ä¨·Ä∏ CSS code ·Ä°·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äï·Ä´ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Pyidaungsu', 'Noto Sans Myanmar', sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 15px;
        }
        
        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .admin-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: white;
            color: #2a5298;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .admin-btn:hover {
            background-color: #f8f9fa;
        }
        
        header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        
        header p {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .date-search-section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .section-title {
            color: #1e3c72;
            border-bottom: 2px solid #eaeaea;
            padding-bottom: 8px;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .date-search-input {
            display: flex;
            gap: 8px;
            max-width: 400px;
        }
        
        .date-search-input input {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .search-btn {
            background-color: #2a5298;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0 15px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .search-btn:hover {
            background-color: #1e3c72;
        }
        
        .date-selector {
            display: flex;
            gap: 8px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .date-card {
            background-color: #f8f9fa;
            border-radius: 6px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            min-width: 65px;
            flex: 1;
            position: relative;
        }
        
        .date-card:hover {
            transform: translateY(-2px);
        }
        
        .date-card.selected {
            border-color: #2a5298;
            background-color: #e8f4ff;
        }
        
        .date-day {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2a5298;
        }
        
        .date-month {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 3px;
        }
        
        .exam-results {
            margin-top: 20px;
        }
        
        .exam-center-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            border-top: 3px solid #2a5298;
        }
        
        .center-title {
            font-weight: bold;
            font-size: 1.1rem;
            color: #1e3c72;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .time-slots-row {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }
        
        .time-slot {
            padding: 8px 12px;
            text-align: center;
            border-radius: 4px;
            font-weight: 500;
            font-size: 0.85rem;
            min-width: 70px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }
        
        .time-slot.available {
            background-color: #e8f7ef;
            border-color: #b8e6c9;
            color: #155724;
        }
        
        .time-slot.available:hover {
            background-color: #d4edda;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .time-slot.booked {
            background-color: #ffeaea;
            border-color: #f5c6cb;
            color: #721c24;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .current-date-display {
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
            color: #2a5298;
            font-size: 1rem;
        }
        
        .admin-panel {
            display: none;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #444;
        }
        
        select, input, textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .btn {
            display: inline-block;
            background-color: #2a5298;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            background-color: #1e3c72;
        }
        
        .btn-secondary {
            background-color: #6c757d;
        }
        
        .btn-secondary:hover {
            background-color: #545b62;
        }
        
        .btn-telegram {
            background-color: #0088cc;
        }
        
        .btn-telegram:hover {
            background-color: #006699;
        }
        
        .btn-success {
            background-color: #28a745;
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        .btn-danger {
            background-color: #dc3545;
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        .btn-warning {
            background-color: #ffc107;
            color: #212529;
        }
        
        .btn-warning:hover {
            background-color: #e0a800;
        }
        
        .login-form {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .login-box {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .close-btn:hover {
            color: #333;
        }
        
        .booking-form {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .booking-box {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .booking-info {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .booking-info p {
            margin-bottom: 5px;
        }
        
        .form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }
        
        .gender-group {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .gender-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .no-results {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }
        
        .telegram-section {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .message-display {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 200px;
            overflow-y: auto;
            font-size: 0.9rem;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .action-buttons .btn {
            flex: 1;
        }
        
        .prometric-option-group {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .prometric-options {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .prometric-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background-color: white;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
        }
        
        .prometric-option:hover {
            border-color: #2a5298;
            background-color: #f0f7ff;
        }
        
        .prometric-option.selected {
            border-color: #2a5298;
            background-color: #e8f4ff;
            color: #2a5298;
        }
        
        .prometric-option i {
            font-size: 1.2rem;
        }
        
        .id-pw-section {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 5px;
            border: 1px solid #cce7ff;
        }
        
        .gmail-section {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #fff8e1;
            border-radius: 5px;
            border: 1px solid #ffeaa7;
        }
        
        .admin-actions-row {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .admin-actions-row .btn {
            flex: 1;
            min-width: 120px;
        }
        
        .date-delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(220, 53, 69, 0.8);
            color: white;
            border: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .date-card:hover .date-delete-btn {
            opacity: 1;
        }
        
        .date-delete-btn:hover {
            background-color: #dc3545;
            transform: scale(1.1);
        }
        
        .delete-date-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            margin-left: 10px;
        }
        
        .delete-date-btn:hover {
            background-color: #c82333;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #2a5298;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .error-message {
            text-align: center;
            padding: 40px 20px;
            color: #dc3545;
        }
        
        .error-message i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #dc3545;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header {
                padding: 15px 0;
            }
            
            .admin-btn {
                position: static;
                margin-top: 10px;
                display: inline-block;
            }
            
            .date-card {
                min-width: 55px;
            }
            
            .time-slot {
                min-width: 60px;
                padding: 6px 8px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .prometric-options {
                flex-direction: column;
            }
            
            .admin-actions-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calendar-alt"></i> ·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤ ·ÄÅ·ÄØ·Ä∂·ÄÄ·Äª·Äî·Ä∫·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏</h1>
            <p>·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·Äõ·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·ÄÅ·ÄØ·Ä∂·ÄÄ·Äª·Äî·Ä∫·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äæ·ÄØ·Äõ·Äî·Ä∫</p>
            <button class="admin-btn" id="adminToggleBtn">
                <i class="fas fa-user-cog"></i> Admin Panel
            </button>
        </header>
        
        <div class="date-search-section">
            <h2 class="section-title"><i class="fas fa-search"></i> ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äõ·Äæ·Ä¨·Äñ·ÄΩ·Ä±·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏</h2>
            
            <div class="date-search-input">
                <input type="text" id="dateSearch" placeholder="YYYY-MM-DD (·Ä•·Äï·Äô·Ä¨: 2025-12-30)">
                <button class="search-btn" id="searchBtn"><i class="fas fa-search"></i></button>
            </div>
            
            <div class="current-date-display" id="currentDateDisplay">
                ·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...
            </div>
            
            <div class="date-selector" id="dateSelector">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...</p>
                </div>
            </div>
            
            <div class="exam-results" id="examResults">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>·ÄÅ·ÄØ·Ä∂·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...</p>
                </div>
            </div>
        </div>
        
        <div class="admin-panel" id="adminPanel">
            <h2 class="section-title"><i class="fas fa-user-cog"></i> Admin Controls</h2>
            <div id="adminNotLoggedIn">
                <p>Admin panel ·ÄÄ·Ä≠·ÄØ ·Äù·ÄÑ·Ä∫·Äõ·Ä±·Ä¨·ÄÄ·Ä∫·Äõ·Äî·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã</p>
                <button class="btn" id="loginBtn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </div>
            
            <div id="adminControls" style="display: none;">
                <div class="admin-controls">
                    <div class="form-group">
                        <label for="adminDate">·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤</label>
                        <input type="text" id="adminDate" placeholder="YYYY-MM-DD">
                    </div>
                    
                    <div class="form-group">
                        <label for="adminCenter">·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·ÄÖ·ÄÑ·Ä∫·Äê·Ä¨</label>
                        <select id="adminCenter">
                            <option value="MYJ01">MYJ01/Myanmar Yangon MICT Building</option>
                            <option value="MYJ02">MYJ02/Myanmar Mandalay</option>
                            <option value="MYJ03">MYJ03/Myanmar Yangon MICT Building 7</option>
                            <option value="MYJ04">MYJ04/Myanmar Yangon Sanchoung A</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminTime">·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫</label>
                        <select id="adminTime">
                            <option value="09:15">09:15</option>
                            <option value="10:00">10:00</option>
                            <option value="10:45">10:45</option>
                            <option value="11:30">11:30</option>
                            <option value="12:15">12:15</option>
                            <option value="13:00">13:00</option>
                            <option value="13:45">13:45</option>
                            <option value="14:30">14:30</option>
                            <option value="15:15">15:15</option>
                            <option value="16:00">16:00</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminStatus">·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±</label>
                        <select id="adminStatus">
                            <option value="available">·ÄÅ·ÄØ·Ä∂·Äú·ÄΩ·Äê·Ä∫</option>
                            <option value="booked">·ÄÅ·ÄØ·Ä∂·Äï·Äº·Ää·Ä∑·Ä∫</option>
                        </select>
                    </div>
                    
                    <div class="admin-actions-row">
                        <button class="btn" id="updateStatusBtn">
                            <i class="fas fa-save"></i> ·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn" id="addDateBtn">
                            <i class="fas fa-plus"></i> ·Äî·Ä±·Ä∑·Äû·ÄÖ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn btn-warning" id="removeDateBtn">
                            <i class="fas fa-trash"></i> ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äñ·Äª·ÄÄ·Ä∫·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn btn-danger" id="deleteAllDatesBtn">
                            <i class="fas fa-trash-alt"></i> ·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏·Äñ·Äª·ÄÄ·Ä∫·Äô·Ää·Ä∫
                        </button>
                    </div>
                    
                    <div class="admin-actions-row">
                        <button class="btn btn-secondary" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                        
                        <button class="btn btn-warning" id="showUidBtn" onclick="showCurrentUserUid()">
                            <i class="fas fa-key"></i> Show My UID
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="login-form" id="loginForm">
        <div class="login-box">
            <button class="close-btn" id="closeLoginBtn">&times;</button>
            <h2 class="section-title"><i class="fas fa-user-shield"></i> Admin Login</h2>
            <div class="form-group">
                <label for="adminEmail">Email</label>
                <input type="email" id="adminEmail" placeholder="Email" autocomplete="off" value="ooooshine1@gmail.com">
            </div>
            <div class="form-group">
                <label for="adminPassword">Password</label>
                <input type="password" id="adminPassword" placeholder="Password" autocomplete="off" value="159357">
            </div>
            <button class="btn" id="submitLoginBtn" style="width: 100%;">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
            <div style="margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
                <p><strong>Admin Credentials (Auto-filled):</strong></p>
                <p>Email: ooooshine1@gmail.com</p>
                <p>Password: 159357</p>
            </div>
        </div>
    </div>
    
    <div class="booking-form" id="bookingForm">
        <div class="booking-box">
            <button class="close-btn" id="closeBookingBtn">&times;</button>
            
            <h2 class="section-title"><i class="fas fa-calendar-check"></i> ·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·ÄÅ·ÄØ·Ä∂ ·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏·Äï·Ä±·Ä∏·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äõ·Äî·Ä∫</h2>
            
            <div class="booking-info" id="bookingInfo"></div>
            
            <div class="prometric-option-group">
                <label>Prometric ID ·Äõ·Äæ·Ä≠·Äï·Ä´·Äû·Äú·Ä¨·Ä∏?</label>
                <div class="prometric-options">
                    <div class="prometric-option" id="prometricYesOption" onclick="selectPrometricOption('yes')">
                        <i class="fas fa-check-circle"></i>
                        <div>
                            <strong>·Äõ·Äæ·Ä≠·Äï·Ä´·Äê·Äö·Ä∫</strong>
                            <div style="font-size: 0.8rem; color: #666;">Prometric ID/PW ·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´</div>
                        </div>
                    </div>
                    <div class="prometric-option" id="prometricNoOption" onclick="selectPrometricOption('no')">
                        <i class="fas fa-times-circle"></i>
                        <div>
                            <strong>·Äô·Äõ·Äæ·Ä≠·Äï·Ä´</strong>
                            <div style="font-size: 0.8rem; color: #666;">Gmail ·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="id-pw-section" id="idPwSection">
                <div class="form-group">
                    <label for="studentId">Prometric ID <span style="color: red;">*</span></label>
                    <input type="text" id="studentId" placeholder="Prometric ID">
                </div>
                
                <div class="form-group">
                    <label for="studentPassword">Password <span style="color: red;">*</span></label>
                    <input type="password" id="studentPassword" placeholder="Password">
                </div>
                
                <div style="padding: 10px; background-color: #e8f4ff; border-radius: 5px; margin-bottom: 15px; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> 
                    <strong>·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫:</strong> Prometric ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äõ·Äæ·Ä≠·Äû·Ä∞·Äô·Äª·Ä¨·Ä∏·Ä°·Äê·ÄΩ·ÄÄ·Ä∫·Äû·Ä¨·Åã ID/PW ·ÄÄ·Ä≠·ÄØ ·Äû·Ä±·ÄÅ·Äª·Ä¨·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·Äï·Ä´·Åã
                </div>
            </div>
            
            <div class="gmail-section" id="gmailSection">
                <div class="form-group">
                    <label for="studentGmail">Gmail Address <span style="color: red;">*</span></label>
                    <input type="email" id="studentGmail" placeholder="example@gmail.com">
                </div>
                
                <div style="padding: 10px; background-color: #fff8e1; border-radius: 5px; margin-bottom: 15px; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> 
                    <strong>·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫:</strong> Prometric ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äô·Äõ·Äæ·Ä≠·Äû·Ä∞·Äô·Äª·Ä¨·Ä∏·Ä°·Äê·ÄΩ·ÄÄ·Ä∫·Äñ·Äº·ÄÖ·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äê·ÄΩ·ÄÑ·Ä∫ Prometric ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äõ·Äî·Ä∫·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="studentName">·Ä°·Äô·Ää·Ä∫ <span style="color: red;">*</span></label>
                    <input type="text" id="studentName" placeholder="·Ä°·Äô·Ää·Ä∫">
                </div>
                <div class="form-group">
                    <label for="studentBirthday">·Äô·ÄΩ·Ä±·Ä∏·Äî·Ä±·Ä∑ <span style="color: red;">*</span></label>
                    <input type="date" id="studentBirthday">
                </div>
            </div>
            
            <div class="form-group">
                <label for="studentPhone">·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ <span style="color: red;">*</span></label>
                    <input type="tel" id="studentPhone" placeholder="09xxxxxxxxx">
                </div>
                
                <div class="form-group">
                    <label>·Äú·Ä≠·ÄÑ·Ä∫ <span style="color: red;">*</span></label>
                    <div class="gender-group">
                        <div class="gender-option">
                            <input type="radio" id="male" name="gender" value="male">
                            <label for="male" style="font-weight: normal;">·ÄÄ·Äª·Ä¨·Ä∏</label>
                        </div>
                        <div class="gender-option">
                            <input type="radio" id="female" name="gender" value="female">
                            <label for="female" style="font-weight: normal;">·Äô</label>
                        </div>
                    </div>
                </div>
                
                <div class="telegram-section">
                    <h3 style="margin-bottom: 15px; color: #1e3c72;">
                        <i class="fab fa-telegram"></i> Telegram ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·ÄÖ·Ä¨·Äï·Ä≠·ÄØ·Ä∑·Äõ·Äî·Ä∫
                    </h3>
                    
                    <div class="message-display" id="messageDisplay">
                        Prometric ID ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äº·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-telegram" id="generateMessageBtn">
                            <i class="fas fa-sync"></i> Message ·ÄÄ·Ä≠·ÄØ Generate ·Äú·ÄØ·Äï·Ä∫·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn btn-success" id="copyMessageBtn" disabled>
                            <i class="fas fa-copy"></i> Message ·ÄÄ·Ä≠·ÄØ Copy ·ÄÄ·Ä∞·Ä∏·Äô·Ää·Ä∫
                        </button>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-telegram" id="openTelegramBtn" disabled>
                            <i class="fab fa-telegram"></i> Telegram ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn btn-secondary" id="closeFormBtn">
                            <i class="fas fa-times"></i> ·Äï·Ä≠·Äê·Ä∫·Äô·Ää·Ä∫
                        </button>
                    </div>
                    
                    <div style="margin-top: 15px; padding: 10px; background-color: #e8f4ff; border-radius: 5px; font-size: 0.9rem;">
                        <p><strong>·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ää·Ä∫·Ä∏:</strong></p>
                        <ol style="margin-left: 20px; margin-top: 5px;">
                            <li>Prometric ID ·Äõ·Äæ·Ä≠/·Äô·Äõ·Äæ·Ä≠ ·Äõ·ÄΩ·Ä±·Ä∏·Äï·Ä´</li>
                            <li>·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏ ·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´</li>
                            <li>"Message ·ÄÄ·Ä≠·ÄØ Generate ·Äú·ÄØ·Äï·Ä∫·Äô·Ää·Ä∫" ·ÄÅ·Äú·ÄØ·Äê·Ä∫·ÄÄ·Ä≠·ÄØ ·Äî·Äæ·Ä≠·Äï·Ä∫·Äï·Ä´</li>
                            <li>·Äï·Ä±·Ä´·Ä∫·Äú·Ä¨·Äû·Ä±·Ä¨ message ·ÄÄ·Ä≠·ÄØ "Copy ·ÄÄ·Ä∞·Ä∏·Äô·Ää·Ä∫" ·ÄÅ·Äú·ÄØ·Äê·Ä∫·Äñ·Äº·ÄÑ·Ä∑·Ä∫ copy ·ÄÄ·Ä∞·Ä∏·Äï·Ä´</li>
                            <li>"Telegram ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äô·Ää·Ä∫" ·ÄÅ·Äú·ÄØ·Äê·Ä∫·Äñ·Äº·ÄÑ·Ä∑·Ä∫ Telegram ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä´</li>
                            <li>Telegram ·Äë·Ä≤·Äê·ÄΩ·ÄÑ·Ä∫ @shinegyi123 ·ÄÄ·Ä≠·ÄØ search ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´</li>
                            <li>Chat ·Äë·Ä≤·Äô·Äæ·Ä¨ paste ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏ send ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // ====================
            // Firebase Configuration
            // ====================
            const firebaseConfig = {
                apiKey: "AIzaSyDZUnSbcArvOanyjzVEpfYkUE3Pmi3Swlk",
                authDomain: "formservice-fb83a.firebaseapp.com",
                projectId: "formservice-fb83a",
                storageBucket: "formservice-fb83a.firebasestorage.app",
                messagingSenderId: "269270040610",
                appId: "1:269270040610:web:6dec73e16923453fcfca7b"
            };
            
            // ====================
            // Initialize Firebase
            // ====================
            const app = firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();
            const auth = firebase.auth();
            
            // ====================
            // App Variables
            // ====================
            const ADMIN_EMAIL = "ooooshine1@gmail.com";
            const ADMIN_PASSWORD = "159357";
            
            let examData = {};
            let currentDate = "";
            let selectedBooking = null;
            let isAdminLoggedIn = false;
            let generatedMessage = '';
            let hasPrometricAccount = null;
            let isLoading = false;
            
            // Default data structure
            const defaultData = {
                "2025-12-30": {
                    "MYJ01": {
                        name: "MYJ01/Myanmar Yangon MICT Building",
                        times: {
                            "09:15": "available",
                            "10:00": "available", 
                            "10:45": "booked",
                            "11:30": "available",
                            "12:15": "available",
                            "13:00": "available",
                            "13:45": "booked",
                            "14:30": "available",
                            "15:15": "available",
                            "16:00": "booked"
                        }
                    },
                    "MYJ02": {
                        name: "MYJ02/Myanmar Mandalay",
                        times: {
                            "09:15": "available",
                            "10:00": "available", 
                            "10:45": "available",
                            "11:30": "available",
                            "12:15": "available",
                            "13:00": "available",
                            "13:45": "available",
                            "14:30": "available",
                            "15:15": "available",
                            "16:00": "available"
                        }
                    },
                    "MYJ03": {
                        name: "MYJ03/Myanmar Yangon MICT Building 7",
                        times: {
                            "09:15": "available",
                            "10:00": "available", 
                            "10:45": "available",
                            "11:30": "available",
                            "12:15": "available",
                            "13:00": "available",
                            "13:45": "available",
                            "14:30": "available",
                            "15:15": "available",
                            "16:00": "available"
                        }
                    },
                    "MYJ04": {
                        name: "MYJ04/Myanmar Yangon Sanchoung A",
                        times: {
                            "09:15": "available",
                            "10:00": "available", 
                            "10:45": "available",
                            "11:30": "available",
                            "12:15": "available",
                            "13:00": "available",
                            "13:45": "available",
                            "14:30": "available",
                            "15:15": "available",
                            "16:00": "available"
                        }
                    }
                }
            };
            
            // ====================
            // DOM Ready
            // ====================
            document.addEventListener('DOMContentLoaded', function() {
                console.log("üöÄ App starting...");
                
                // Check Firebase connection
                checkFirebaseConnection();
                
                // Initialize App
                initApp();
                
                // Event Listeners
                document.getElementById('adminToggleBtn').addEventListener('click', toggleAdminPanel);
                document.getElementById('searchBtn').addEventListener('click', searchDate);
                document.getElementById('updateStatusBtn').addEventListener('click', updateTimeSlotStatus);
                document.getElementById('addDateBtn').addEventListener('click', addNewDate);
                document.getElementById('removeDateBtn').addEventListener('click', removeDate);
                document.getElementById('deleteAllDatesBtn').addEventListener('click', deleteAllDates);
                document.getElementById('closeBookingBtn').addEventListener('click', closeBookingForm);
                document.getElementById('closeFormBtn').addEventListener('click', closeBookingForm);
                document.getElementById('generateMessageBtn').addEventListener('click', generateTelegramMessage);
                document.getElementById('copyMessageBtn').addEventListener('click', copyMessageToClipboard);
                document.getElementById('openTelegramBtn').addEventListener('click', openTelegramApp);
                document.getElementById('loginBtn').addEventListener('click', openLoginForm);
                document.getElementById('closeLoginBtn').addEventListener('click', closeLoginForm);
                document.getElementById('submitLoginBtn').addEventListener('click', submitLogin);
                document.getElementById('logoutBtn').addEventListener('click', logoutAdmin);
                
                // Auto-fill admin credentials for testing
                document.getElementById('adminEmail').value = ADMIN_EMAIL;
                document.getElementById('adminPassword').value = ADMIN_PASSWORD;
                
                // Debug: Show Firebase config
                console.log("Firebase Config:", firebaseConfig);
            });
            
            // ====================
            // Connection Check
            // ====================
            async function checkFirebaseConnection() {
                try {
                    console.log("üîå Checking Firebase connection...");
                    // Try to read a test document
                    const testRef = db.collection('examData').doc('seats');
                    await testRef.get();
                    console.log("‚úÖ Firebase connected successfully");
                    return true;
                } catch (error) {
                    console.error("‚ùå Firebase connection error:", error);
                    showError("Firebase ·ÄÅ·Äª·Ä≠·Äê·Ä∫·ÄÜ·ÄÄ·Ä∫·Äô·Äæ·ÄØ·Äô·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Åã Internet ·ÄÄ·Ä≠·ÄØ·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·Äï·Ä´·Åã");
                    return false;
                }
            }
            
            // ====================
            // Firebase Functions
            // ====================
            async function loadExamDataFromFirebase() {
                try {
                    console.log("üì• Loading data from Firebase...");
                    const snapshot = await db.collection('examData').doc('seats').get();
                    
                    if (snapshot.exists) {
                        examData = snapshot.data();
                        console.log("‚úÖ Data loaded successfully");
                        console.log("Dates available:", Object.keys(examData).length);
                        return true;
                    } else {
                        console.log("üìù No data found, initializing default data");
                        return false;
                    }
                } catch (error) {
                    console.error("‚ùå Error loading data:", error);
                    throw error;
                }
            }
            
            async function saveExamDataToFirebase() {
                try {
                    console.log("üíæ Saving data to Firebase...");
                    await db.collection('examData').doc('seats').set(examData);
                    console.log("‚úÖ Data saved successfully");
                    return true;
                } catch (error) {
                    console.error("‚ùå Error saving data:", error);
                    throw error;
                }
            }
            
            async function initializeDefaultData() {
                console.log("üîÑ Initializing default data...");
                examData = defaultData;
                return await saveExamDataToFirebase();
            }
            
            // ====================
            // App Initialization
            // ====================
            async function initApp() {
                isLoading = true;
                showLoading(true);
                
                try {
                    // First check connection
                    const connected = await checkFirebaseConnection();
                    if (!connected) {
                        showError("Firebase ·ÄÅ·Äª·Ä≠·Äê·Ä∫·ÄÜ·ÄÄ·Ä∫·Äô·Äæ·ÄØ·Äô·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Åã");
                        return;
                    }
                    
                    // Try to load data
                    const dataLoaded = await loadExamDataFromFirebase();
                    
                    if (!dataLoaded) {
                        // Initialize with default data
                        console.log("Initializing with default data...");
                        await initializeDefaultData();
                    }
                    
                    // Set current date
                    const dates = Object.keys(examData).sort();
                    if (dates.length > 0) {
                        currentDate = dates[0];
                        document.getElementById('adminDate').value = currentDate;
                    } else {
                        currentDate = "2025-12-30";
                    }
                    
                    // Update UI
                    createDateCards();
                    displayExamResults(currentDate);
                    updateDateDisplay(currentDate);
                    
                    console.log("üéâ App initialized successfully");
                    
                } catch (error) {
                    console.error("‚ùå Error in initApp:", error);
                    showError("·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äú·Äæ·Äô·Ä∫·Ä∏·Äñ·Äê·Ä∫·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äô·Äæ·Ä¨·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã<br><br>·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç:<br>1. Internet connection ·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·Äï·Ä´<br>2. Browser console ·ÄÄ·Ä≠·ÄØ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´ (F12)<br>3. Refresh ·Äï·Äº·Äî·Ä∫·Äú·ÄØ·Äï·Ä∫·Äï·Ä´");
                } finally {
                    isLoading = false;
                    showLoading(false);
                }
            }
            
            function showLoading(show) {
                if (show) {
                    document.getElementById('dateSelector').innerHTML = `
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...</p>
                        </div>
                    `;
                    document.getElementById('examResults').innerHTML = `
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>·ÄÅ·ÄØ·Ä∂·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...</p>
                        </div>
                    `;
                }
            }
            
            function showError(message) {
                document.getElementById('dateSelector').innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>${message}</p>
                        <button class="btn" onclick="initApp()" style="margin-top: 15px;">
                            <i class="fas fa-redo"></i> Refresh
                        </button>
                    </div>
                `;
                
                document.getElementById('examResults').innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>${message}</p>
                    </div>
                `;
            }
            
            // ====================
            // Date Management
            // ====================
            function createDateCards() {
                const dateSelector = document.getElementById('dateSelector');
                dateSelector.innerHTML = '';
                const dates = Object.keys(examData).sort();
                
                if (dates.length === 0) {
                    dateSelector.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;">·Äô·Ää·Ä∫·Äû·Ää·Ä∑·Ä∫·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äô·Äª·Äæ ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏·Äï·Ä´</div>';
                    return;
                }
                
                dates.forEach(dateStr => {
                    const date = new Date(dateStr);
                    const day = date.getDate();
                    const monthNames = ['·Äá·Äî·Ä∫', '·Äñ·Ä±', '·Äô·Äê·Ä∫', '·Äß·Äï·Äº', '·Äô·Ä±', '·Äá·ÄΩ·Äî·Ä∫', '·Äá·Ä∞·Äú', '·Ä©·ÄÇ·ÄØ', '·ÄÖ·ÄÄ·Ä∫', '·Ä°·Ä±·Ä¨·ÄÄ·Ä∫', '·Äî·Ä≠·ÄØ·Äù·Ä∫', '·Äí·ÄÆ·Äá'];
                    const monthName = monthNames[date.getMonth()];
                    
                    const dateCard = document.createElement('div');
                    dateCard.className = 'date-card';
                    if (dateStr === currentDate) dateCard.classList.add('selected');
                    dateCard.innerHTML = `
                        <div class="date-day">${day}</div>
                        <div class="date-month">${monthName}</div>
                        ${isAdminLoggedIn ? '<button class="date-delete-btn" onclick="deleteSingleDate(\'' + dateStr + '\', event)">&times;</button>' : ''}
                    `;
                    
                    dateCard.addEventListener('click', function(e) {
                        if (!e.target.classList.contains('date-delete-btn')) {
                            currentDate = dateStr;
                            document.querySelectorAll('.date-card').forEach(card => card.classList.remove('selected'));
                            this.classList.add('selected');
                            document.getElementById('dateSearch').value = dateStr;
                            document.getElementById('adminDate').value = dateStr;
                            displayExamResults(dateStr);
                            updateDateDisplay(dateStr);
                        }
                    });
                    
                    dateSelector.appendChild(dateCard);
                });
            }
            
            function displayExamResults(date) {
                const examResults = document.getElementById('examResults');
                
                if (!examData[date]) {
                    examResults.innerHTML = `
                        <div class="no-results">
                            <i class="fas fa-calendar-times" style="font-size: 2rem; color: #ccc; margin-bottom: 10px;"></i>
                            <p>·Ä§·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Ä°·Äê·ÄΩ·ÄÄ·Ä∫ ·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·ÄÖ·ÄÑ·Ä∫·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äô·Äõ·Äæ·Ä≠·Äï·Ä´·Åã</p>
                        </div>
                    `;
                    return;
                }
                
                const centers = examData[date];
                let html = '';
                
                Object.keys(centers).forEach(centerCode => {
                    const center = centers[centerCode];
                    let timeSlotsHTML = '<div class="time-slots-row">';
                    const times = center.times;
                    
                    Object.keys(times).forEach(time => {
                        const status = times[time];
                        timeSlotsHTML += `
                            <div class="time-slot ${status}" 
                                 onclick="handleTimeSlotClick('${date}', '${centerCode}', '${time}', '${status}')">
                                ${time}
                            </div>
                        `;
                    });
                    timeSlotsHTML += '</div>';
                    
                    html += `
                        <div class="exam-center-card">
                            <div class="center-title">${center.name}</div>
                            ${timeSlotsHTML}
                        </div>
                    `;
                });
                
                examResults.innerHTML = html;
            }
            
            // ====================
            // Authentication Functions
            // ====================
            async function submitLogin() {
                const email = document.getElementById('adminEmail').value.trim();
                const password = document.getElementById('adminPassword').value.trim();
                
                try {
                    const userCredential = await auth.signInWithEmailAndPassword(email, password);
                    const user = userCredential.user;
                    
                    if (user.email === ADMIN_EMAIL) {
                        isAdminLoggedIn = true;
                        updateAdminUI();
                        closeLoginForm();
                        alert('‚úÖ Admin login ·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                        createDateCards();
                    } else {
                        await auth.signOut();
                        alert('‚ùå ·Ä§·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äû·Ää·Ä∫ admin ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äô·Äü·ÄØ·Äê·Ä∫·Äï·Ä´·Åã');
                    }
                } catch (error) {
                    console.error("Login error:", error);
                    alert('‚ùå Login failed: ' + error.message);
                }
            }
            
            async function logoutAdmin() {
                try {
                    await auth.signOut();
                    isAdminLoggedIn = false;
                    updateAdminUI();
                    alert('üëã Admin logout ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã');
                    createDateCards();
                } catch (error) {
                    console.error("Logout error:", error);
                }
            }
            
            function updateAdminUI() {
                const adminControls = document.getElementById('adminControls');
                const adminNotLoggedIn = document.getElementById('adminNotLoggedIn');
                
                if (isAdminLoggedIn) {
                    adminControls.style.display = 'block';
                    adminNotLoggedIn.style.display = 'none';
                    if (currentDate) {
                        document.getElementById('adminDate').value = currentDate;
                    }
                } else {
                    adminControls.style.display = 'none';
                    adminNotLoggedIn.style.display = 'block';
                }
                
                createDateCards();
            }
            
            // ====================
            // Remaining Functions (Shortened for space)
            // ====================
            // Note: These functions are the same as before
            // updateDateDisplay, updateTimeSlotStatus, copyFirstDateStructureToNewDate,
            // addNewDate, removeDate, deleteAllDates, deleteSingleDate,
            // handleTimeSlotClick, resetForm, selectPrometricOption,
            // generateTelegramMessage, copyMessageToClipboard, openTelegramApp,
            // formatDateDisplay, toggleAdminPanel, searchDate, closeBookingForm,
            // openLoginForm, closeLoginForm, isValidDate
            
            // You can copy these functions from the previous code
            // I'm omitting them here to save space, but they should be included
            
        </script>
</body>
</html>