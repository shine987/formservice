<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤ ·ÄÅ·ÄØ·Ä∂·ÄÄ·Äª·Äî·Ä∫·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Pyidaungsu', 'Noto Sans Myanmar', sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 15px;
        }
        
        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .admin-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: white;
            color: #2a5298;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .admin-btn:hover {
            background-color: #f8f9fa;
        }
        
        header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        
        header p {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .date-search-section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .section-title {
            color: #1e3c72;
            border-bottom: 2px solid #eaeaea;
            padding-bottom: 8px;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .date-search-input {
            display: flex;
            gap: 8px;
            max-width: 400px;
        }
        
        .date-search-input input {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .search-btn {
            background-color: #2a5298;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0 15px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .search-btn:hover {
            background-color: #1e3c72;
        }
        
        .date-selector {
            display: flex;
            gap: 8px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .date-card {
            background-color: #f8f9fa;
            border-radius: 6px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            min-width: 65px;
            flex: 1;
            position: relative;
        }
        
        .date-card:hover {
            transform: translateY(-2px);
        }
        
        .date-card.selected {
            border-color: #2a5298;
            background-color: #e8f4ff;
        }
        
        .date-day {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2a5298;
        }
        
        .date-month {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 3px;
        }
        
        .exam-results {
            margin-top: 20px;
        }
        
        .exam-center-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            border-top: 3px solid #2a5298;
        }
        
        .center-title {
            font-weight: bold;
            font-size: 1.1rem;
            color: #1e3c72;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .time-slots-row {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }
        
        .time-slot {
            padding: 8px 12px;
            text-align: center;
            border-radius: 4px;
            font-weight: 500;
            font-size: 0.85rem;
            min-width: 70px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }
        
        .time-slot.available {
            background-color: #e8f7ef;
            border-color: #b8e6c9;
            color: #155724;
        }
        
        .time-slot.available:hover {
            background-color: #d4edda;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .time-slot.booked {
            background-color: #ffeaea;
            border-color: #f5c6cb;
            color: #721c24;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .current-date-display {
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
            color: #2a5298;
            font-size: 1rem;
        }
        
        .admin-panel {
            display: none;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #444;
        }
        
        select, input, textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .btn {
            display: inline-block;
            background-color: #2a5298;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            background-color: #1e3c72;
        }
        
        .btn-secondary {
            background-color: #6c757d;
        }
        
        .btn-secondary:hover {
            background-color: #545b62;
        }
        
        .btn-telegram {
            background-color: #0088cc;
        }
        
        .btn-telegram:hover {
            background-color: #006699;
        }
        
        .btn-success {
            background-color: #28a745;
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        .btn-danger {
            background-color: #dc3545;
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        .btn-warning {
            background-color: #ffc107;
            color: #212529;
        }
        
        .btn-warning:hover {
            background-color: #e0a800;
        }
        
        .login-form {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .login-box {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .close-btn:hover {
            color: #333;
        }
        
        .booking-form {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .booking-box {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .booking-info {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .booking-info p {
            margin-bottom: 5px;
        }
        
        .form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }
        
        .gender-group {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .gender-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .no-results {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }
        
        .telegram-section {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .message-display {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 200px;
            overflow-y: auto;
            font-size: 0.9rem;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .action-buttons .btn {
            flex: 1;
        }
        
        .prometric-option-group {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .prometric-options {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .prometric-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background-color: white;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
        }
        
        .prometric-option:hover {
            border-color: #2a5298;
            background-color: #f0f7ff;
        }
        
        .prometric-option.selected {
            border-color: #2a5298;
            background-color: #e8f4ff;
            color: #2a5298;
        }
        
        .prometric-option i {
            font-size: 1.2rem;
        }
        
        .id-pw-section {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 5px;
            border: 1px solid #cce7ff;
        }
        
        .gmail-section {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #fff8e1;
            border-radius: 5px;
            border: 1px solid #ffeaa7;
        }
        
        .admin-actions-row {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .admin-actions-row .btn {
            flex: 1;
            min-width: 120px;
        }
        
        .date-delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(220, 53, 69, 0.8);
            color: white;
            border: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .date-card:hover .date-delete-btn {
            opacity: 1;
        }
        
        .date-delete-btn:hover {
            background-color: #dc3545;
            transform: scale(1.1);
        }
        
        .delete-date-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            margin-left: 10px;
        }
        
        .delete-date-btn:hover {
            background-color: #c82333;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
        }
        
        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #2a5298;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header {
                padding: 15px 0;
            }
            
            .admin-btn {
                position: static;
                margin-top: 10px;
                display: inline-block;
            }
            
            .date-card {
                min-width: 55px;
            }
            
            .time-slot {
                min-width: 60px;
                padding: 6px 8px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .prometric-options {
                flex-direction: column;
            }
            
            .admin-actions-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calendar-alt"></i> ·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤ ·ÄÅ·ÄØ·Ä∂·ÄÄ·Äª·Äî·Ä∫·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏</h1>
            <p>·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·Äõ·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏·Ä°·Äú·Ä≠·ÄØ·ÄÄ·Ä∫ ·ÄÅ·ÄØ·Ä∂·ÄÄ·Äª·Äî·Ä∫·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äæ·ÄØ·Äõ·Äî·Ä∫</p>
            <button class="admin-btn" id="adminToggleBtn">
                <i class="fas fa-user-cog"></i> Admin Panel
            </button>
        </header>
        
        <div class="date-search-section">
            <h2 class="section-title"><i class="fas fa-search"></i> ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äõ·Äæ·Ä¨·Äñ·ÄΩ·Ä±·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏</h2>
            
            <div class="date-search-input">
                <input type="text" id="dateSearch" placeholder="YYYY-MM-DD (·Ä•·Äï·Äô·Ä¨: 2025-12-30)">
                <button class="search-btn" id="searchBtn"><i class="fas fa-search"></i></button>
            </div>
            
            <div class="current-date-display" id="currentDateDisplay">
                ·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...
            </div>
            
            <div class="date-selector" id="dateSelector">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...</p>
                </div>
            </div>
            
            <div class="exam-results" id="examResults">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>·ÄÅ·ÄØ·Ä∂·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...</p>
                </div>
            </div>
        </div>
        
        <div class="admin-panel" id="adminPanel">
            <h2 class="section-title"><i class="fas fa-user-cog"></i> Admin Controls</h2>
            <div id="adminNotLoggedIn">
                <p>Admin panel ·ÄÄ·Ä≠·ÄØ ·Äù·ÄÑ·Ä∫·Äõ·Ä±·Ä¨·ÄÄ·Ä∫·Äõ·Äî·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã</p>
                <button class="btn" id="loginBtn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </div>
            
            <div id="adminControls" style="display: none;">
                <div class="admin-controls">
                    <div class="form-group">
                        <label for="adminDate">·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤</label>
                        <input type="text" id="adminDate" placeholder="YYYY-MM-DD">
                    </div>
                    
                    <div class="form-group">
                        <label for="adminCenter">·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·ÄÖ·ÄÑ·Ä∫·Äê·Ä¨</label>
                        <select id="adminCenter">
                            <option value="MYJ01">MYJ01/Myanmar Yangon MICT Building</option>
                            <option value="MYJ02">MYJ02/Myanmar Mandalay</option>
                            <option value="MYJ03">MYJ03/Myanmar Yangon MICT Building 7</option>
                            <option value="MYJ04">MYJ04/Myanmar Yangon Sanchoung A</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminTime">·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫</label>
                        <select id="adminTime">
                            <option value="09:15">09:15</option>
                            <option value="10:00">10:00</option>
                            <option value="10:45">10:45</option>
                            <option value="11:30">11:30</option>
                            <option value="12:15">12:15</option>
                            <option value="13:00">13:00</option>
                            <option value="13:45">13:45</option>
                            <option value="14:30">14:30</option>
                            <option value="15:15">15:15</option>
                            <option value="16:00">16:00</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminStatus">·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±</label>
                        <select id="adminStatus">
                            <option value="available">·ÄÅ·ÄØ·Ä∂·Äú·ÄΩ·Äê·Ä∫</option>
                            <option value="booked">·ÄÅ·ÄØ·Ä∂·Äï·Äº·Ää·Ä∑·Ä∫</option>
                        </select>
                    </div>
                    
                    <div class="admin-actions-row">
                        <button class="btn" id="updateStatusBtn">
                            <i class="fas fa-save"></i> ·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn" id="addDateBtn">
                            <i class="fas fa-plus"></i> ·Äî·Ä±·Ä∑·Äû·ÄÖ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn btn-warning" id="removeDateBtn">
                            <i class="fas fa-trash"></i> ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äñ·Äª·ÄÄ·Ä∫·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn btn-danger" id="deleteAllDatesBtn">
                            <i class="fas fa-trash-alt"></i> ·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏·Äñ·Äª·ÄÄ·Ä∫·Äô·Ää·Ä∫
                        </button>
                    </div>
                    
                    <div class="admin-actions-row">
                        <button class="btn btn-secondary" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                        
                        <button class="btn btn-warning" id="showUidBtn" onclick="showCurrentUserUid()">
                            <i class="fas fa-key"></i> Show My UID
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="login-form" id="loginForm">
        <div class="login-box">
            <button class="close-btn" id="closeLoginBtn">&times;</button>
            <h2 class="section-title"><i class="fas fa-user-shield"></i> Admin Login</h2>
            <div class="form-group">
                <label for="adminEmail">Email</label>
                <input type="email" id="adminEmail" placeholder="Email" autocomplete="off">
            </div>
            <div class="form-group">
                <label for="adminPassword">Password</label>
                <input type="password" id="adminPassword" placeholder="Password" autocomplete="off">
            </div>
            <button class="btn" id="submitLoginBtn" style="width: 100%;">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
            <div style="margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
                <p><strong>Admin Credentials:</strong></p>
                <p>Email: ooooshine1@gmail.com</p>
                <p>Password: 159357</p>
            </div>
        </div>
    </div>
    
    <div class="booking-form" id="bookingForm">
        <div class="booking-box">
            <button class="close-btn" id="closeBookingBtn">&times;</button>
            
            <h2 class="section-title"><i class="fas fa-calendar-check"></i> ·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·ÄÅ·ÄØ·Ä∂ ·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏·Äï·Ä±·Ä∏·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äõ·Äî·Ä∫</h2>
            
            <div class="booking-info" id="bookingInfo"></div>
            
            <div class="prometric-option-group">
                <label>Prometric ID ·Äõ·Äæ·Ä≠·Äï·Ä´·Äû·Äú·Ä¨·Ä∏?</label>
                <div class="prometric-options">
                    <div class="prometric-option" id="prometricYesOption" onclick="selectPrometricOption('yes')">
                        <i class="fas fa-check-circle"></i>
                        <div>
                            <strong>·Äõ·Äæ·Ä≠·Äï·Ä´·Äê·Äö·Ä∫</strong>
                            <div style="font-size: 0.8rem; color: #666;">Prometric ID/PW ·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´</div>
                        </div>
                    </div>
                    <div class="prometric-option" id="prometricNoOption" onclick="selectPrometricOption('no')">
                        <i class="fas fa-times-circle"></i>
                        <div>
                            <strong>·Äô·Äõ·Äæ·Ä≠·Äï·Ä´</strong>
                            <div style="font-size: 0.8rem; color: #666;">Gmail ·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="id-pw-section" id="idPwSection">
                <div class="form-group">
                    <label for="studentId">Prometric ID <span style="color: red;">*</span></label>
                    <input type="text" id="studentId" placeholder="Prometric ID">
                </div>
                
                <div class="form-group">
                    <label for="studentPassword">Password <span style="color: red;">*</span></label>
                    <input type="password" id="studentPassword" placeholder="Password">
                </div>
                
                <div style="padding: 10px; background-color: #e8f4ff; border-radius: 5px; margin-bottom: 15px; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> 
                    <strong>·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫:</strong> Prometric ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äõ·Äæ·Ä≠·Äû·Ä∞·Äô·Äª·Ä¨·Ä∏·Ä°·Äê·ÄΩ·ÄÄ·Ä∫·Äû·Ä¨·Åã ID/PW ·ÄÄ·Ä≠·ÄØ ·Äû·Ä±·ÄÅ·Äª·Ä¨·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·Äï·Ä´·Åã
                </div>
            </div>
            
            <div class="gmail-section" id="gmailSection">
                <div class="form-group">
                    <label for="studentGmail">Gmail Address <span style="color: red;">*</span></label>
                    <input type="email" id="studentGmail" placeholder="example@gmail.com">
                </div>
                
                <div style="padding: 10px; background-color: #fff8e1; border-radius: 5px; margin-bottom: 15px; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> 
                    <strong>·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫:</strong> Prometric ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äô·Äõ·Äæ·Ä≠·Äû·Ä∞·Äô·Äª·Ä¨·Ä∏·Ä°·Äê·ÄΩ·ÄÄ·Ä∫·Äñ·Äº·ÄÖ·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äê·ÄΩ·ÄÑ·Ä∫ Prometric ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äõ·Äî·Ä∫·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="studentName">·Ä°·Äô·Ää·Ä∫ <span style="color: red;">*</span></label>
                    <input type="text" id="studentName" placeholder="·Ä°·Äô·Ää·Ä∫">
                </div>
                <div class="form-group">
                    <label for="studentBirthday">·Äô·ÄΩ·Ä±·Ä∏·Äî·Ä±·Ä∑ <span style="color: red;">*</span></label>
                    <input type="date" id="studentBirthday">
                </div>
            </div>
            
            <div class="form-group">
                <label for="studentPhone">·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ <span style="color: red;">*</span></label>
                    <input type="tel" id="studentPhone" placeholder="09xxxxxxxxx">
                </div>
                
                <div class="form-group">
                    <label>·Äú·Ä≠·ÄÑ·Ä∫ <span style="color: red;">*</span></label>
                    <div class="gender-group">
                        <div class="gender-option">
                            <input type="radio" id="male" name="gender" value="male">
                            <label for="male" style="font-weight: normal;">·ÄÄ·Äª·Ä¨·Ä∏</label>
                        </div>
                        <div class="gender-option">
                            <input type="radio" id="female" name="gender" value="female">
                            <label for="female" style="font-weight: normal;">·Äô</label>
                        </div>
                    </div>
                </div>
                
                <div class="telegram-section">
                    <h3 style="margin-bottom: 15px; color: #1e3c72;">
                        <i class="fab fa-telegram"></i> Telegram ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·ÄÖ·Ä¨·Äï·Ä≠·ÄØ·Ä∑·Äõ·Äî·Ä∫
                    </h3>
                    
                    <div class="message-display" id="messageDisplay">
                        Prometric ID ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äº·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-telegram" id="generateMessageBtn">
                            <i class="fas fa-sync"></i> Message ·ÄÄ·Ä≠·ÄØ Generate ·Äú·ÄØ·Äï·Ä∫·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn btn-success" id="copyMessageBtn" disabled>
                            <i class="fas fa-copy"></i> Message ·ÄÄ·Ä≠·ÄØ Copy ·ÄÄ·Ä∞·Ä∏·Äô·Ää·Ä∫
                        </button>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-telegram" id="openTelegramBtn" disabled>
                            <i class="fab fa-telegram"></i> Telegram ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äô·Ää·Ä∫
                        </button>
                        
                        <button class="btn btn-secondary" id="closeFormBtn">
                            <i class="fas fa-times"></i> ·Äï·Ä≠·Äê·Ä∫·Äô·Ää·Ä∫
                        </button>
                    </div>
                    
                    <div style="margin-top: 15px; padding: 10px; background-color: #e8f4ff; border-radius: 5px; font-size: 0.9rem;">
                        <p><strong>·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ää·Ä∫·Ä∏:</strong></p>
                        <ol style="margin-left: 20px; margin-top: 5px;">
                            <li>Prometric ID ·Äõ·Äæ·Ä≠/·Äô·Äõ·Äæ·Ä≠ ·Äõ·ÄΩ·Ä±·Ä∏·Äï·Ä´</li>
                            <li>·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏ ·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´</li>
                            <li>"Message ·ÄÄ·Ä≠·ÄØ Generate ·Äú·ÄØ·Äï·Ä∫·Äô·Ää·Ä∫" ·ÄÅ·Äú·ÄØ·Äê·Ä∫·ÄÄ·Ä≠·ÄØ ·Äî·Äæ·Ä≠·Äï·Ä∫·Äï·Ä´</li>
                            <li>·Äï·Ä±·Ä´·Ä∫·Äú·Ä¨·Äû·Ä±·Ä¨ message ·ÄÄ·Ä≠·ÄØ "Copy ·ÄÄ·Ä∞·Ä∏·Äô·Ää·Ä∫" ·ÄÅ·Äú·ÄØ·Äê·Ä∫·Äñ·Äº·ÄÑ·Ä∑·Ä∫ copy ·ÄÄ·Ä∞·Ä∏·Äï·Ä´</li>
                            <li>"Telegram ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äô·Ää·Ä∫" ·ÄÅ·Äú·ÄØ·Äê·Ä∫·Äñ·Äº·ÄÑ·Ä∑·Ä∫ Telegram ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä´</li>
                            <li>Telegram ·Äë·Ä≤·Äê·ÄΩ·ÄÑ·Ä∫ @shinegyi123 ·ÄÄ·Ä≠·ÄØ search ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´</li>
                            <li>Chat ·Äë·Ä≤·Äô·Äæ·Ä¨ paste ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏ send ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // ====================
            // Firebase Configuration
            // ====================
            const firebaseConfig = {
                apiKey: "AIzaSyDZUnSbcArvOanyjzVEpfYkUE3Pmi3Swlk",
                authDomain: "formservice-fb83a.firebaseapp.com",
                projectId: "formservice-fb83a",
                storageBucket: "formservice-fb83a.firebasestorage.app",
                messagingSenderId: "269270040610",
                appId: "1:269270040610:web:6dec73e16923453fcfca7b"
            };
            
            // ====================
            // Initialize Firebase
            // ====================
            const app = firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();
            const auth = firebase.auth();
            
            // ====================
            // App Variables
            // ====================
            const ADMIN_EMAIL = "ooooshine1@gmail.com";
            const ADMIN_PASSWORD = "159357";
            
            let examData = {};
            let currentDate = "";
            let selectedBooking = null;
            let isAdminLoggedIn = false;
            let generatedMessage = '';
            let hasPrometricAccount = null;
            let isLoading = false;
            
            // Default data structure
            const defaultData = {
                "2025-12-30": {
                    "MYJ01": {
                        name: "MYJ01/Myanmar Yangon MICT Building",
                        times: {
                            "09:15": "available",
                            "10:00": "available", 
                            "10:45": "booked",
                            "11:30": "available",
                            "12:15": "available",
                            "13:00": "available",
                            "13:45": "booked",
                            "14:30": "available",
                            "15:15": "available",
                            "16:00": "booked"
                        }
                    },
                    "MYJ02": {
                        name: "MYJ02/Myanmar Mandalay",
                        times: {
                            "09:15": "available",
                            "10:00": "available", 
                            "10:45": "available",
                            "11:30": "available",
                            "12:15": "available",
                            "13:00": "available",
                            "13:45": "available",
                            "14:30": "available",
                            "15:15": "available",
                            "16:00": "available"
                        }
                    },
                    "MYJ03": {
                        name: "MYJ03/Myanmar Yangon MICT Building 7",
                        times: {
                            "09:15": "available",
                            "10:00": "available", 
                            "10:45": "available",
                            "11:30": "available",
                            "12:15": "available",
                            "13:00": "available",
                            "13:45": "available",
                            "14:30": "available",
                            "15:15": "available",
                            "16:00": "available"
                        }
                    },
                    "MYJ04": {
                        name: "MYJ04/Myanmar Yangon Sanchoung A",
                        times: {
                            "09:15": "available",
                            "10:00": "available", 
                            "10:45": "available",
                            "11:30": "available",
                            "12:15": "available",
                            "13:00": "available",
                            "13:45": "available",
                            "14:30": "available",
                            "15:15": "available",
                            "16:00": "available"
                        }
                    }
                }
            };
            
            // ====================
            // DOM Ready
            // ====================
            document.addEventListener('DOMContentLoaded', function() {
                // Firebase Auth State Listener
                auth.onAuthStateChanged((user) => {
                    if (user && user.email === ADMIN_EMAIL) {
                        isAdminLoggedIn = true;
                        console.log("‚úÖ Admin logged in:", user.email);
                    } else {
                        isAdminLoggedIn = false;
                    }
                    updateAdminUI();
                });
                
                // Initialize App
                initApp();
                
                // Event Listeners
                document.getElementById('adminToggleBtn').addEventListener('click', toggleAdminPanel);
                document.getElementById('searchBtn').addEventListener('click', searchDate);
                document.getElementById('updateStatusBtn').addEventListener('click', updateTimeSlotStatus);
                document.getElementById('addDateBtn').addEventListener('click', addNewDate);
                document.getElementById('removeDateBtn').addEventListener('click', removeDate);
                document.getElementById('deleteAllDatesBtn').addEventListener('click', deleteAllDates);
                document.getElementById('closeBookingBtn').addEventListener('click', closeBookingForm);
                document.getElementById('closeFormBtn').addEventListener('click', closeBookingForm);
                document.getElementById('generateMessageBtn').addEventListener('click', generateTelegramMessage);
                document.getElementById('copyMessageBtn').addEventListener('click', copyMessageToClipboard);
                document.getElementById('openTelegramBtn').addEventListener('click', openTelegramApp);
                document.getElementById('loginBtn').addEventListener('click', openLoginForm);
                document.getElementById('closeLoginBtn').addEventListener('click', closeLoginForm);
                document.getElementById('submitLoginBtn').addEventListener('click', submitLogin);
                document.getElementById('logoutBtn').addEventListener('click', logoutAdmin);
                
                // Set default admin date
                document.getElementById('adminEmail').value = ADMIN_EMAIL;
                document.getElementById('adminPassword').value = ADMIN_PASSWORD;
            });
            
            // ====================
            // Firebase Functions
            // ====================
            async function loadExamDataFromFirebase() {
                try {
                    console.log("üì• Loading data from Firebase...");
                    const snapshot = await db.collection('examData').doc('seats').get();
                    
                    if (snapshot.exists) {
                        examData = snapshot.data();
                        console.log("‚úÖ Data loaded successfully");
                        console.log("Dates available:", Object.keys(examData).length);
                    } else {
                        console.log("üìù No data found, initializing default data");
                        await initializeDefaultData();
                    }
                } catch (error) {
                    console.error("‚ùå Error loading data:", error);
                    throw error;
                }
            }
            
            async function saveExamDataToFirebase() {
                try {
                    console.log("üíæ Saving data to Firebase...");
                    await db.collection('examData').doc('seats').set(examData);
                    console.log("‚úÖ Data saved successfully");
                } catch (error) {
                    console.error("‚ùå Error saving data:", error);
                    alert("·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äû·Ä≠·Äô·Ä∫·Ä∏·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äô·Äæ·Ä¨·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã");
                    throw error;
                }
            }
            
            async function initializeDefaultData() {
                console.log("üîÑ Initializing default data...");
                examData = defaultData;
                await saveExamDataToFirebase();
            }
            
            // ====================
            // App Initialization
            // ====================
            async function initApp() {
                isLoading = true;
                showLoading(true);
                
                try {
                    await loadExamDataFromFirebase();
                    
                    // Set current date to first available date
                    const dates = Object.keys(examData).sort();
                    if (dates.length > 0) {
                        currentDate = dates[0];
                        document.getElementById('adminDate').value = currentDate;
                    } else {
                        currentDate = "2025-12-30";
                    }
                    
                    createDateCards();
                    displayExamResults(currentDate);
                    updateDateDisplay(currentDate);
                } catch (error) {
                    console.error("Error in initApp:", error);
                    document.getElementById('examResults').innerHTML = `
                        <div class="no-results">
                            <i class="fas fa-exclamation-triangle" style="font-size: 2rem; color: #dc3545; margin-bottom: 10px;"></i>
                            <p>·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äú·Äæ·Äô·Ä∫·Ä∏·Äñ·Äê·Ä∫·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äô·Äæ·Ä¨·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã</p>
                            <p>Internet connection ·ÄÄ·Ä≠·ÄØ ·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·Äï·Ä´·Åã</p>
                            <button class="btn" onclick="initApp()">Refresh</button>
                        </div>
                    `;
                } finally {
                    isLoading = false;
                    showLoading(false);
                }
            }
            
            function showLoading(show) {
                if (show) {
                    document.getElementById('dateSelector').innerHTML = `
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>·Äí·Ä±·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...</p>
                        </div>
                    `;
                    document.getElementById('examResults').innerHTML = `
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>·ÄÅ·ÄØ·Ä∂·Ä°·ÄÅ·Äº·Ä±·Ä°·Äî·Ä±·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äê·Ä∫·Äî·Ä±·Äû·Ää·Ä∫...</p>
                        </div>
                    `;
                }
            }
            
            // ====================
            // Date Management
            // ====================
            function createDateCards() {
                const dateSelector = document.getElementById('dateSelector');
                dateSelector.innerHTML = '';
                const dates = Object.keys(examData).sort();
                
                if (dates.length === 0) {
                    dateSelector.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;">·Äô·Ää·Ä∫·Äû·Ää·Ä∑·Ä∫·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äô·Äª·Äæ ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏·Äï·Ä´</div>';
                    return;
                }
                
                dates.forEach(dateStr => {
                    const date = new Date(dateStr);
                    const day = date.getDate();
                    const monthNames = ['·Äá·Äî·Ä∫', '·Äñ·Ä±', '·Äô·Äê·Ä∫', '·Äß·Äï·Äº', '·Äô·Ä±', '·Äá·ÄΩ·Äî·Ä∫', '·Äá·Ä∞·Äú', '·Ä©·ÄÇ·ÄØ', '·ÄÖ·ÄÄ·Ä∫', '·Ä°·Ä±·Ä¨·ÄÄ·Ä∫', '·Äî·Ä≠·ÄØ·Äù·Ä∫', '·Äí·ÄÆ·Äá'];
                    const monthName = monthNames[date.getMonth()];
                    
                    const dateCard = document.createElement('div');
                    dateCard.className = 'date-card';
                    if (dateStr === currentDate) dateCard.classList.add('selected');
                    dateCard.innerHTML = `
                        <div class="date-day">${day}</div>
                        <div class="date-month">${monthName}</div>
                        ${isAdminLoggedIn ? '<button class="date-delete-btn" onclick="deleteSingleDate(\'' + dateStr + '\', event)">&times;</button>' : ''}
                    `;
                    
                    dateCard.addEventListener('click', function(e) {
                        if (!e.target.classList.contains('date-delete-btn')) {
                            currentDate = dateStr;
                            document.querySelectorAll('.date-card').forEach(card => card.classList.remove('selected'));
                            this.classList.add('selected');
                            document.getElementById('dateSearch').value = dateStr;
                            document.getElementById('adminDate').value = dateStr;
                            displayExamResults(dateStr);
                            updateDateDisplay(dateStr);
                        }
                    });
                    
                    dateSelector.appendChild(dateCard);
                });
            }
            
            function displayExamResults(date) {
                const examResults = document.getElementById('examResults');
                examResults.innerHTML = '';
                
                if (!examData[date]) {
                    examResults.innerHTML = `
                        <div class="no-results">
                            <i class="fas fa-calendar-times" style="font-size: 2rem; color: #ccc; margin-bottom: 10px;"></i>
                            <p>·Ä§·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Ä°·Äê·ÄΩ·ÄÄ·Ä∫ ·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·ÄÖ·ÄÑ·Ä∫·Äê·Ä¨·Äô·Äª·Ä¨·Ä∏ ·Äô·Äõ·Äæ·Ä≠·Äï·Ä´·Åã</p>
                        </div>
                    `;
                    return;
                }
                
                const centers = examData[date];
                Object.keys(centers).forEach(centerCode => {
                    const center = centers[centerCode];
                    const centerCard = document.createElement('div');
                    centerCard.className = 'exam-center-card';
                    
                    let timeSlotsHTML = '<div class="time-slots-row">';
                    const times = center.times;
                    Object.keys(times).forEach(time => {
                        const status = times[time];
                        timeSlotsHTML += `
                            <div class="time-slot ${status}" 
                                 onclick="handleTimeSlotClick('${date}', '${centerCode}', '${time}', '${status}')">
                                ${time}
                            </div>
                        `;
                    });
                    timeSlotsHTML += '</div>';
                    
                    centerCard.innerHTML = `
                        <div class="center-title">${center.name}</div>
                        ${timeSlotsHTML}
                    `;
                    examResults.appendChild(centerCard);
                });
            }
            
            function updateDateDisplay(date) {
                const dateObj = new Date(date);
                const day = dateObj.getDate();
                const year = dateObj.getFullYear();
                const monthNames = ['·Äá·Äî·Ä∫·Äî·Äù·Ä´·Äõ·ÄÆ', '·Äñ·Ä±·Äñ·Ä±·Ä¨·Ä∫·Äù·Ä´·Äõ·ÄÆ', '·Äô·Äê·Ä∫', '·Äß·Äï·Äº·ÄÆ', '·Äô·Ä±', '·Äá·ÄΩ·Äî·Ä∫', '·Äá·Ä∞·Äú·Ä≠·ÄØ·ÄÑ·Ä∫', '·Ä©·ÄÇ·ÄØ·Äê·Ä∫', '·ÄÖ·ÄÄ·Ä∫·Äê·ÄÑ·Ä∫·Äò·Ä¨', '·Ä°·Ä±·Ä¨·ÄÄ·Ä∫·Äê·Ä≠·ÄØ·Äò·Ä¨', '·Äî·Ä≠·ÄØ·Äù·ÄÑ·Ä∫·Äò·Ä¨', '·Äí·ÄÆ·Äá·ÄÑ·Ä∫·Äò·Ä¨'];
                const monthName = monthNames[dateObj.getMonth()];
                document.getElementById('currentDateDisplay').textContent = `${monthName} ${day}·Åä ${year}`;
            }
            
            // ====================
            // Authentication Functions
            // ====================
            async function submitLogin() {
                const email = document.getElementById('adminEmail').value.trim();
                const password = document.getElementById('adminPassword').value.trim();
                
                if (!email || !password) {
                    alert('Email ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ Password ·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´·Åã');
                    return;
                }
                
                try {
                    console.log("üîê Attempting login...");
                    const userCredential = await auth.signInWithEmailAndPassword(email, password);
                    const user = userCredential.user;
                    
                    console.log("‚úÖ Login successful!");
                    console.log("üìß Email:", user.email);
                    console.log("üÜî UID:", user.uid);
                    
                    if (user.email === ADMIN_EMAIL) {
                        isAdminLoggedIn = true;
                        updateAdminUI();
                        closeLoginForm();
                        alert('‚úÖ Admin login ·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                        createDateCards();
                    } else {
                        await auth.signOut();
                        alert('‚ùå ·Ä§·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äû·Ää·Ä∫ admin ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äô·Äü·ÄØ·Äê·Ä∫·Äï·Ä´·Åã');
                    }
                } catch (error) {
                    console.error("Login error:", error);
                    
                    if (error.code === 'auth/user-not-found') {
                        alert('‚ùå ·Ä§ email ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äô·Äõ·Äæ·Ä≠·Äï·Ä´·Åã');
                    } else if (error.code === 'auth/wrong-password') {
                        alert('‚ùå Password ·Äô·Äæ·Ä¨·Ä∏·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    } else if (error.code === 'auth/too-many-requests') {
                        alert('‚ùå ·Ä°·ÄÄ·Äº·Ä≠·Äô·Ä∫·Ä°·Äõ·Ä±·Ä°·Äê·ÄΩ·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏·Äú·ÄΩ·Äî·Ä∫·Ä∏·Äû·Ää·Ä∫·Åã ·ÄÅ·Äè·ÄÖ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äï·Ä´·Åã');
                    } else {
                        alert('‚ùå Login ·Äô·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Åã ' + error.message);
                    }
                }
            }
            
            async function logoutAdmin() {
                try {
                    await auth.signOut();
                    isAdminLoggedIn = false;
                    updateAdminUI();
                    alert('üëã Admin logout ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã');
                    createDateCards();
                } catch (error) {
                    console.error("Logout error:", error);
                }
            }
            
            function showCurrentUserUid() {
                const user = auth.currentUser;
                if (user) {
                    alert(`Your User Info:\n\nEmail: ${user.email}\nUID: ${user.uid}\n\nCopy the UID for Firebase Rules if needed.`);
                } else {
                    alert('Please login first.');
                }
            }
            
            function updateAdminUI() {
                const adminControls = document.getElementById('adminControls');
                const adminNotLoggedIn = document.getElementById('adminNotLoggedIn');
                
                if (isAdminLoggedIn) {
                    adminControls.style.display = 'block';
                    adminNotLoggedIn.style.display = 'none';
                    if (currentDate) {
                        document.getElementById('adminDate').value = currentDate;
                    }
                } else {
                    adminControls.style.display = 'none';
                    adminNotLoggedIn.style.display = 'block';
                }
                
                createDateCards();
            }
            
            // ====================
            // Admin Functions
            // ====================
            async function updateTimeSlotStatus() {
                if (!isAdminLoggedIn) {
                    alert('Admin ·Ä°·Äî·Ä±·Äî·Ä≤·Ä∑ login ·Äù·ÄÑ·Ä∫·Äë·Ä¨·Ä∏·Äõ·Äî·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    return;
                }
                
                const date = document.getElementById('adminDate').value;
                const center = document.getElementById('adminCenter').value;
                const time = document.getElementById('adminTime').value;
                const status = document.getElementById('adminStatus').value;
                
                if (!date || !center || !time || !status) {
                    alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç ·Ä°·ÄÄ·ÄØ·Äî·Ä∫·Äú·ÄØ·Ä∂·Ä∏·Äñ·Äº·Ää·Ä∑·Ä∫·Äï·Ä´·Åã');
                    return;
                }
                
                if (!examData[date]) examData[date] = {};
                if (!examData[date][center]) {
                    const centerName = document.querySelector(`#adminCenter option[value="${center}"]`).textContent;
                    examData[date][center] = {
                        name: centerName,
                        times: {}
                    };
                }
                
                examData[date][center].times[time] = status;
                
                // Database ·Äô·Äæ·Ä¨ ·Äû·Ä≠·Äô·Ä∫·Ä∏·Äï·Ä´
                try {
                    await saveExamDataToFirebase();
                    if (date === currentDate) displayExamResults(date);
                    createDateCards();
                    alert('‚úÖ ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äá·Äö·Ä¨·Ä∏ ·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã');
                } catch (error) {
                    alert('‚ùå ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äá·Äö·Ä¨·Ä∏ ·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äô·Äæ·Ä¨·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                }
            }
            
            async function copyFirstDateStructureToNewDate(newDate) {
                const dates = Object.keys(examData).sort();
                if (dates.length === 0) {
                    alert('·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·ÄÄ·Ä∞·Ä∏·Äõ·Äî·Ä∫ ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äô·Äõ·Äæ·Ä≠·Äï·Ä´·Åã');
                    return;
                }
                
                const firstDate = dates[0];
                if (!examData[firstDate]) return;
                
                examData[newDate] = {};
                Object.keys(examData[firstDate]).forEach(centerCode => {
                    const center = examData[firstDate][centerCode];
                    examData[newDate][centerCode] = {
                        name: center.name,
                        times: {}
                    };
                    
                    Object.keys(center.times).forEach(time => {
                        examData[newDate][centerCode].times[time] = 'available';
                    });
                });
            }
            
            async function addNewDate() {
                if (!isAdminLoggedIn) {
                    alert('Admin ·Ä°·Äî·Ä±·Äî·Ä≤·Ä∑ login ·Äù·ÄÑ·Ä∫·Äë·Ä¨·Ä∏·Äõ·Äî·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    return;
                }
                
                const newDate = prompt('·Äî·Ä±·Ä∑·Äû·ÄÖ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äõ·Äî·Ä∫ (YYYY-MM-DD):\n\n·Ä•·Äï·Äô·Ä¨: 2025-12-31');
                if (!newDate) return;
                
                if (!isValidDate(newDate)) {
                    alert('·Äô·Äæ·Äî·Ä∫·ÄÄ·Äî·Ä∫·Äû·Ä±·Ä¨ ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤ format ·Äë·Ää·Ä∑·Ä∫·Äï·Ä´ (YYYY-MM-DD)');
                    return;
                }
                
                if (examData[newDate]) {
                    alert('·Ä§·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äõ·Äæ·Ä≠·Äï·Äº·ÄÆ·Ä∏·Äû·Ä¨·Ä∏·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã');
                    return;
                }
                
                try {
                    await copyFirstDateStructureToNewDate(newDate);
                    await saveExamDataToFirebase();
                    
                    createDateCards();
                    alert('‚úÖ ·Äî·Ä±·Ä∑·Äû·ÄÖ·Ä∫ ·Äë·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã');
                } catch (error) {
                    console.error("Error adding date:", error);
                    alert('‚ùå ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äë·Ää·Ä∑·Ä∫·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äô·Äæ·Ä¨·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                }
            }
            
            async function removeDate() {
                if (!isAdminLoggedIn) {
                    alert('Admin ·Ä°·Äî·Ä±·Äî·Ä≤·Ä∑ login ·Äù·ÄÑ·Ä∫·Äë·Ä¨·Ä∏·Äõ·Äî·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    return;
                }
                
                const dateToRemove = document.getElementById('adminDate').value;
                if (!dateToRemove) {
                    alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äõ·ÄΩ·Ä±·Ä∏·Äï·Ä´·Åã');
                    return;
                }
                
                if (!examData[dateToRemove]) {
                    alert('·Ä§·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤ ·Äô·Äõ·Äæ·Ä≠·Äï·Ä´·Åã');
                    return;
                }
                
                if (confirm(`·Äû·Ä±·ÄÅ·Äª·Ä¨·Äï·Ä´·Äû·Äú·Ä¨·Ä∏? "${dateToRemove}" ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äî·Äæ·ÄÑ·Ä∑·Ä∫·Ä°·Äê·Ä∞ ·ÄÅ·ÄØ·Ä∂·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏·ÄÄ·Ä≠·ÄØ ·Äñ·Äª·ÄÄ·Ä∫·Äô·Ää·Ä∫·Åã`)) {
                    delete examData[dateToRemove];
                    
                    try {
                        await saveExamDataToFirebase();
                        
                        if (currentDate === dateToRemove) {
                            const dates = Object.keys(examData).sort();
                            if (dates.length > 0) {
                                currentDate = dates[0];
                            } else {
                                currentDate = '';
                            }
                        }
                        
                        createDateCards();
                        displayExamResults(currentDate);
                        updateDateDisplay(currentDate);
                        document.getElementById('adminDate').value = currentDate;
                        alert(`‚úÖ "${dateToRemove}" ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤ ·Äñ·Äª·ÄÄ·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã`);
                    } catch (error) {
                        alert('‚ùå ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äñ·Äª·ÄÄ·Ä∫·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äô·Äæ·Ä¨·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    }
                }
            }
            
            async function deleteAllDates() {
                if (!isAdminLoggedIn) {
                    alert('Admin ·Ä°·Äî·Ä±·Äî·Ä≤·Ä∑ login ·Äù·ÄÑ·Ä∫·Äë·Ä¨·Ä∏·Äõ·Äî·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    return;
                }
                
                const datesCount = Object.keys(examData).length;
                if (datesCount === 0) {
                    alert('·Äñ·Äª·ÄÄ·Ä∫·Äõ·Äî·Ä∫ ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äô·Äª·Ä¨·Ä∏ ·Äô·Äõ·Äæ·Ä≠·Äï·Ä´·Åã');
                    return;
                }
                
                if (confirm(`·Äû·Ä±·ÄÅ·Äª·Ä¨·Äï·Ä´·Äû·Äú·Ä¨·Ä∏?\n\n·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤ ${datesCount} ·ÄÅ·ÄØ·Ä°·Ä¨·Ä∏ ·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏·Äñ·Äª·ÄÄ·Ä∫·Äô·Ää·Ä∫·Åã\n·Ä§·Äú·ÄØ·Äï·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫·ÄÄ·Ä≠·ÄØ ·Äï·Äº·Äî·Ä∫·Äú·Ää·Ä∫·Äõ·Äö·Ä∞·Åç·Äô·Äõ·Äï·Ä´·Åã`)) {
                    examData = {};
                    
                    try {
                        await saveExamDataToFirebase();
                        
                        currentDate = '';
                        createDateCards();
                        displayExamResults('');
                        updateDateDisplay('');
                        document.getElementById('adminDate').value = '';
                        
                        alert('‚úÖ ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏ ·Äñ·Äª·ÄÄ·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã');
                    } catch (error) {
                        alert('‚ùå ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äô·Äª·Ä¨·Ä∏·Äñ·Äª·ÄÄ·Ä∫·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äô·Äæ·Ä¨·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    }
                }
            }
            
            async function deleteSingleDate(dateStr, event) {
                event.stopPropagation();
                
                if (!isAdminLoggedIn) {
                    alert('Admin ·Ä°·Äî·Ä±·Äî·Ä≤·Ä∑ login ·Äù·ÄÑ·Ä∫·Äë·Ä¨·Ä∏·Äõ·Äî·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    return;
                }
                
                if (!examData[dateStr]) {
                    alert('·Ä§·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤ ·Äô·Äõ·Äæ·Ä≠·Äï·Ä´·Åã');
                    return;
                }
                
                if (confirm(`"${dateStr}" ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·ÄÄ·Ä≠·ÄØ ·Äñ·Äª·ÄÄ·Ä∫·Äô·Ää·Ä∫·Åã ·Äû·Ä±·ÄÅ·Äª·Ä¨·Äï·Ä´·Äû·Äú·Ä¨·Ä∏?`)) {
                    delete examData[dateStr];
                    
                    try {
                        await saveExamDataToFirebase();
                        
                        if (currentDate === dateStr) {
                            const dates = Object.keys(examData).sort();
                            if (dates.length > 0) {
                                currentDate = dates[0];
                            } else {
                                currentDate = '';
                            }
                        }
                        
                        createDateCards();
                        displayExamResults(currentDate);
                        updateDateDisplay(currentDate);
                        document.getElementById('adminDate').value = currentDate;
                        alert(`‚úÖ "${dateStr}" ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤ ·Äñ·Äª·ÄÄ·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã`);
                    } catch (error) {
                        alert('‚ùå ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äñ·Äª·ÄÄ·Ä∫·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Ä°·Äô·Äæ·Ä¨·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    }
                }
            }
            
            // ====================
            // User Booking Functions
            // ====================
            function handleTimeSlotClick(date, centerCode, time, status) {
                if (status === 'booked') {
                    alert('·Ä§·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äû·Ää·Ä∫ ·ÄÅ·ÄØ·Ä∂·Äï·Äº·Ää·Ä∑·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    return;
                }
                
                selectedBooking = { date, centerCode, time };
                const centerName = examData[date][centerCode].name;
                
                document.getElementById('bookingInfo').innerHTML = `
                    <p><strong>·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤:</strong> ${formatDateDisplay(date)}</p>
                    <p><strong>·ÄÖ·ÄÑ·Ä∫·Äê·Ä¨:</strong> ${centerName}</p>
                    <p><strong>·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫:</strong> ${time}</p>
                `;
                
                resetForm();
                document.getElementById('bookingForm').style.display = 'flex';
            }
            
            function resetForm() {
                document.getElementById('studentId').value = '';
                document.getElementById('studentPassword').value = '';
                document.getElementById('studentGmail').value = '';
                document.getElementById('studentName').value = '';
                document.getElementById('studentBirthday').value = '';
                document.getElementById('studentPhone').value = '';
                document.querySelectorAll('input[name="gender"]').forEach(radio => radio.checked = false);
                
                document.getElementById('messageDisplay').textContent = 'Prometric ID ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏ ·Äñ·Äº·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´';
                document.getElementById('generateMessageBtn').disabled = false;
                document.getElementById('copyMessageBtn').disabled = true;
                document.getElementById('openTelegramBtn').disabled = true;
                
                hasPrometricAccount = null;
                document.getElementById('prometricYesOption').classList.remove('selected');
                document.getElementById('prometricNoOption').classList.remove('selected');
                document.getElementById('idPwSection').style.display = 'none';
                document.getElementById('gmailSection').style.display = 'none';
            }
            
            function selectPrometricOption(option) {
                hasPrometricAccount = option;
                
                document.getElementById('prometricYesOption').classList.remove('selected');
                document.getElementById('prometricNoOption').classList.remove('selected');
                
                if (option === 'yes') {
                    document.getElementById('prometricYesOption').classList.add('selected');
                    document.getElementById('idPwSection').style.display = 'block';
                    document.getElementById('gmailSection').style.display = 'none';
                    document.getElementById('studentId').focus();
                } else {
                    document.getElementById('prometricNoOption').classList.add('selected');
                    document.getElementById('idPwSection').style.display = 'none';
                    document.getElementById('gmailSection').style.display = 'block';
                    document.getElementById('studentGmail').focus();
                }
                
                document.getElementById('generateMessageBtn').disabled = false;
            }
            
            // ====================
            // Telegram Message Functions
            // ====================
            function generateTelegramMessage() {
                if (hasPrometricAccount === null) {
                    alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç Prometric ID ·Äõ·Äæ·Ä≠·Äô·Äõ·Äæ·Ä≠ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´·Åã');
                    return;
                }
                
                const name = document.getElementById('studentName').value.trim();
                const birthday = document.getElementById('studentBirthday').value;
                const phone = document.getElementById('studentPhone').value.trim();
                const gender = document.querySelector('input[name="gender"]:checked');
                
                if (!name || !birthday || !phone || !gender) {
                    alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç ·Ä°·ÄÄ·ÄØ·Äî·Ä∫·Äú·ÄØ·Ä∂·Ä∏ ·Äñ·Äº·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                    return;
                }
                
                if (hasPrometricAccount === 'yes') {
                    const studentId = document.getElementById('studentId').value.trim();
                    const studentPassword = document.getElementById('studentPassword').value.trim();
                    
                    if (!studentId || !studentPassword) {
                        alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç Prometric ID ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ Password ·Äñ·Äº·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                        return;
                    }
                } else {
                    const studentGmail = document.getElementById('studentGmail').value.trim();
                    
                    if (!studentGmail || !studentGmail.includes('@')) {
                        alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç ·Äô·Äæ·Äî·Ä∫·ÄÄ·Äî·Ä∫·Äû·Ä±·Ä¨ Gmail address ·Äñ·Äº·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                        return;
                    }
                }
                
                if (!selectedBooking) {
                    alert('·Äô·Äæ·Ä¨·Ä∏·Äö·ÄΩ·ÄÑ·Ä∫·Ä∏·Äô·Äæ·ÄØ·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ ·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    return;
                }
                
                const { date, centerCode, time } = selectedBooking;
                const centerName = examData[date][centerCode].name;
                const formattedDate = formatDateDisplay(date);
                const genderText = gender.value === 'male' ? '·ÄÄ·Äª·Ä¨·Ä∏' : '·Äô';
                
                const birthdayDate = new Date(birthday);
                const formattedBirthday = `${birthdayDate.getFullYear()}-${(birthdayDate.getMonth() + 1).toString().padStart(2, '0')}-${birthdayDate.getDate().toString().padStart(2, '0')}`;
                
                let accountInfo = '';
                if (hasPrometricAccount === 'yes') {
                    const studentId = document.getElementById('studentId').value.trim();
                    const studentPassword = document.getElementById('studentPassword').value.trim();
                    accountInfo = `Prometric ID: ${studentId}\nPrometric Password: ${studentPassword}`;
                } else {
                    const studentGmail = document.getElementById('studentGmail').value.trim();
                    accountInfo = `Gmail: ${studentGmail}\nPrometric Account: ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏ (·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äô·Äæ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äõ·Äî·Ä∫)`;
                }
                
                generatedMessage = `·ÄÖ·Ä¨·Äô·Ä±·Ä∏·Äï·ÄΩ·Ä≤·ÄÅ·ÄØ·Ä∂ ·ÄÖ·Ä¨·Äõ·ÄÑ·Ä∫·Ä∏·Äï·Ä±·Ä∏·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äú·Ä≠·ÄØ·Äï·Ä´·Äû·Ää·Ä∫·Åã

·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤: ${formattedDate}
·ÄÖ·ÄÑ·Ä∫·Äê·Ä¨: ${centerName}
·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫: ${time}

·ÄÄ·Äª·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äû·Ä¨·Ä∏/·Äû·Ä∞ ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏:
${accountInfo}
·Ä°·Äô·Ää·Ä∫: ${name}
·Äô·ÄΩ·Ä±·Ä∏·Äî·Ä±·Ä∑: ${formattedBirthday}
·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫: ${phone}
·Äú·Ä≠·ÄÑ·Ä∫: ${genderText}

·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç ·ÄÖ·ÄÖ·Ä∫·ÄÜ·Ä±·Ä∏·Äï·Ä±·Ä∏·Äï·Ä´·Äõ·Äî·Ä∫·Åã`;
                
                document.getElementById('messageDisplay').textContent = generatedMessage;
                document.getElementById('copyMessageBtn').disabled = false;
                document.getElementById('openTelegramBtn').disabled = false;
                document.getElementById('generateMessageBtn').disabled = true;
                
                alert('‚úÖ Message ·ÄÄ·Ä≠·ÄØ Generate ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã "Message ·ÄÄ·Ä≠·ÄØ Copy ·ÄÄ·Ä∞·Ä∏·Äô·Ää·Ä∫" ·ÄÅ·Äú·ÄØ·Äê·Ä∫·ÄÄ·Ä≠·ÄØ ·Äî·Äæ·Ä≠·Äï·Ä∫·Äï·Ä´·Åã');
            }
            
            function copyMessageToClipboard() {
                if (!generatedMessage) {
                    alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç Message ·ÄÄ·Ä≠·ÄØ ·Ä°·Äõ·ÄÑ·Ä∫·Äñ·Äî·Ä∫·Äê·ÄÆ·Ä∏·Äï·Ä´·Åã');
                    return;
                }
                
                navigator.clipboard.writeText(generatedMessage).then(function() {
                    alert('‚úÖ Message ·ÄÄ·Ä≠·ÄØ clipboard ·Äû·Ä≠·ÄØ·Ä∑ ·ÄÄ·Ä∞·Ä∏·Äö·Ä∞·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã\n\n·Ä°·ÄÅ·ÄØ Telegram ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Äº·ÄÆ·Ä∏ @shinegyi123 ·Äë·Ä∂ ·Äï·Ä≠·ÄØ·Ä∑·Äï·Ä´·Åã');
                    document.getElementById('openTelegramBtn').focus();
                }).catch(function(err) {
                    console.error('Copy failed: ', err);
                    
                    const textArea = document.createElement('textarea');
                    textArea.value = generatedMessage;
                    document.body.appendChild(textArea);
                    textArea.select();
                    
                    try {
                        const successful = document.execCommand('copy');
                        if (successful) {
                            alert('‚úÖ Message ·ÄÄ·Ä≠·ÄØ clipboard ·Äû·Ä≠·ÄØ·Ä∑ ·ÄÄ·Ä∞·Ä∏·Äö·Ä∞·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã\n\n·Ä°·ÄÅ·ÄØ Telegram ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Äº·ÄÆ·Ä∏ @shinegyi123 ·Äë·Ä∂ ·Äï·Ä≠·ÄØ·Ä∑·Äï·Ä´·Åã');
                        } else {
                            alert('‚ùå Copy ·ÄÄ·Ä∞·Ä∏·Äõ·Äî·Ä∫ ·Äô·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Åã ·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äê·Ä≠·ÄØ·ÄÑ·Ä∫ select ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏ copy ·ÄÄ·Ä∞·Ä∏·Äï·Ä´·Åã');
                        }
                    } catch (err) {
                        alert('‚ùå Copy ·ÄÄ·Ä∞·Ä∏·Äõ·Äî·Ä∫ ·Äô·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Åã ·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äê·Ä≠·ÄØ·ÄÑ·Ä∫ select ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏ copy ·ÄÄ·Ä∞·Ä∏·Äï·Ä´·Åã');
                    }
                    
                    document.body.removeChild(textArea);
                });
            }
            
            function openTelegramApp() {
                if (!generatedMessage) {
                    alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç Message ·ÄÄ·Ä≠·ÄØ ·Ä°·Äõ·ÄÑ·Ä∫·Äñ·Äî·Ä∫·Äê·ÄÆ·Ä∏·Äï·Ä´·Åã');
                    return;
                }
                
                const encodedMessage = encodeURIComponent(generatedMessage);
                const telegramUrl = `https://t.me/share/url?url=&text=${encodedMessage}`;
                
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                
                if (isMobile) {
                    window.location.href = 'tg://resolve?domain=shinegyi123';
                    
                    setTimeout(() => {
                        window.open(telegramUrl, '_blank');
                    }, 1000);
                } else {
                    window.open(telegramUrl, '_blank');
                }
                
                alert('Telegram ·ÄÄ·Ä≠·ÄØ ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä±·Ä∏·Äú·Ä≠·ÄØ·ÄÄ·Ä∫·Äï·Ä´·Äï·Äº·ÄÆ·Åã\n\n·Äú·ÄØ·Äï·Ä∫·Äõ·Äô·Ää·Ä∑·Ä∫·Ä°·ÄÜ·ÄÑ·Ä∑·Ä∫·Äô·Äª·Ä¨·Ä∏:\n1. @shinegyi123 ·ÄÄ·Ä≠·ÄØ search ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´\n2. Chat ·ÄÄ·Ä≠·ÄØ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä´\n3. Copy ·ÄÄ·Ä∞·Ä∏·Äë·Ä¨·Ä∏·Äû·Ä±·Ä¨ message ·ÄÄ·Ä≠·ÄØ paste ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´\n4. Send ·ÄÅ·Äú·ÄØ·Äê·Ä∫·ÄÄ·Ä≠·ÄØ ·Äî·Äæ·Ä≠·Äï·Ä∫·Äï·Ä´');
            }
            
            // ====================
            // Utility Functions
            // ====================
            function formatDateDisplay(dateStr) {
                const date = new Date(dateStr);
                const day = date.getDate();
                const month = date.getMonth() + 1;
                const year = date.getFullYear();
                return `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
            }
            
            function toggleAdminPanel() {
                const adminPanel = document.getElementById('adminPanel');
                adminPanel.style.display = adminPanel.style.display === 'block' ? 'none' : 'block';
            }
            
            function searchDate() {
                const searchInput = document.getElementById('dateSearch').value.trim();
                if (!searchInput) return;
                
                if (!isValidDate(searchInput)) {
                    alert('·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç ·Äô·Äæ·Äî·Ä∫·ÄÄ·Äî·Ä∫·Äû·Ä±·Ä¨ ·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤ format (YYYY-MM-DD) ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Äë·Ää·Ä∑·Ä∫·Äï·Ä´·Åã');
                    return;
                }
                
                currentDate = searchInput;
                document.querySelectorAll('.date-card').forEach(card => card.classList.remove('selected'));
                document.getElementById('adminDate').value = searchInput;
                displayExamResults(searchInput);
                updateDateDisplay(searchInput);
            }
            
            function closeBookingForm() {
                document.getElementById('bookingForm').style.display = 'none';
                selectedBooking = null;
                generatedMessage = '';
            }
            
            function openLoginForm() {
                document.getElementById('loginForm').style.display = 'flex';
                document.getElementById('adminEmail').value = ADMIN_EMAIL;
                document.getElementById('adminPassword').value = ADMIN_PASSWORD;
                document.getElementById('adminEmail').focus();
            }
            
            function closeLoginForm() {
                document.getElementById('loginForm').style.display = 'none';
            }
            
            function isValidDate(dateString) {
                const regex = /^\d{4}-\d{2}-\d{2}$/;
                if (!regex.test(dateString)) return false;
                const date = new Date(dateString);
                return date instanceof Date && !isNaN(date);
            }
        </script>
</body>
</html>
